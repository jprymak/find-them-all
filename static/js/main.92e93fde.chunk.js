(this["webpackJsonpfind-them-all"]=this["webpackJsonpfind-them-all"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var o=t(0),a=t(1),s=t.n(a),i=t(4),c=t.n(i),r=(t(14),t(3)),d=t(5),l=t(6),u=t(8),m=t(7);t(15),t(16),t(17);var k=function(e){var n=e.isPokemonInPokedex,t=e.isPokemonFound,a=e.hasError,i=e.onConfirm;return Object(o.jsxs)(s.a.Fragment,{children:[Object(o.jsx)("input",{className:"search-bar",onKeyDown:i,type:"text",placeholder:"Find them all!"}),!0===a?Object(o.jsx)("p",{className:"error-message",children:"There is no such pokemon!"}):"",!0===t?Object(o.jsx)("p",{className:"error-message",children:"You already have this pokemon in view!"}):"",!0===n?Object(o.jsx)("p",{className:"error-message",children:"You already have this pokemon in pokedex!"}):""]})},h=(t(18),t(19),t(23));var f=function(e){var n=e.imageURL,t=e.name,a=e.type,s=e.onPokemonSave,i=e.abilities;return Object(o.jsxs)("div",{className:"pokemon-card",children:[Object(o.jsx)("img",{alt:t,src:n,className:"pokemon-card__img"}),Object(o.jsx)("p",{className:"pokemon-card__name",children:t}),Object(o.jsx)("p",{className:"pokemon-card__type",children:a}),Object(o.jsxs)("ul",{className:"pokemon-card__abilities",children:["Abilities",i.map((function(e){return Object(o.jsxs)("li",{className:"pokemon-card__ability",children:[e.name,Object(o.jsx)("p",{className:"pokemon-card__ability-description",children:e.description})]},Object(h.a)())}))]}),Object(o.jsx)("button",{onClick:function(){s(t)},className:"pokemon-card__save-button",children:"Save in pokedex"})]})};var p=function(e){var n=e.pokemons,t=e.onPokemonSave;return Object(o.jsx)("div",{className:"SearchResultBoard",children:n.map((function(e){return Object(o.jsx)(f,{onPokemonSave:t,imageURL:e.imageURL,name:e.name,type:e.type,abilities:e.abilities},e.id)}))})};t(20);var x,P=function(e){var n=e.isPokedexOpen,t=e.onPokedexButtonClick,a=e.pokedex;return Object(o.jsxs)("div",{className:"Pokedex ".concat(n?"":"Pokedex--hidden"),children:[Object(o.jsx)("h2",{className:"Pokedex__header",children:n?"Pokedex":""}),Object(o.jsx)("ul",{className:"Pokedex__list",children:n?a.map((function(e){return Object(o.jsxs)("li",{className:"Pokedex__list-item",children:["#",e.id," - ",e.name]},e.id)})):""}),Object(o.jsx)("button",{onClick:t,className:"Pokedex__button",children:n?"<":">"})]})},j=function(e){Object(u.a)(t,e);var n=Object(m.a)(t);function t(){var e;return Object(d.a)(this,t),(e=n.call(this)).handlePokedexButtonClick=function(){e.setState({isPokedexOpen:!e.state.isPokedexOpen})},e.handlePokemonSave=function(n){var t=e.state.foundPokemons.filter((function(e){return e.name===n}))[0];e.checkIfArrayIncludesObjectWithCertainKeyValue(e.state.pokedex,t.name)||(e.savePokemonInPokedex(t),e.removePokemonFromView(t))},e.checkIfArrayIncludesObjectWithCertainKeyValue=function(e,n){for(var t=new RegExp("^".concat(n,"$"),"i"),o=!1,a=0;a<e.length;a++)if(null!==e[a].name.match(t)||t.test(e[a].id)){o=!0;break}return o},e.savePokemonInPokedex=function(n){e.setState((function(e){return{pokedex:[].concat(Object(r.a)(e.pokedex),[n])}}),(function(){}))},e.removePokemonFromView=function(n){var t=e.state.foundPokemons.filter((function(e){return e.name!==n.name}));e.setState({foundPokemons:t},(function(){this.sortPokedex()}))},e.sortPokedex=function(){var n=e.state.pokedex.sort((function(e,n){return e.id-n.id}));e.setState({pokedex:n})},e.getPokemonTypes=function(e){var n="";return e.forEach((function(t){n=n+t.type.name[0].toUpperCase()+t.type.name.slice(1),e.indexOf(t)!==e.length-1&&(n+="/")})),n},e.getPokemonAbilities=function(e){var n=[];return e.forEach((function(e){n.push(fetch(e.ability.url))})),console.log(n),n},e.handleSearch=function(n){if("Enter"===n.key&&""!==n.target.value&&!0!==e.state.isFetchingData){var t=n.target.value,o=e.checkIfArrayIncludesObjectWithCertainKeyValue(e.state.pokedex,t),a=e.checkIfArrayIncludesObjectWithCertainKeyValue(e.state.foundPokemons,t);!1===o&&!1===a?(e.setState({isFetchingData:!0}),fetch("https://pokeapi.co/api/v2/pokemon/".concat(n.target.value.toLowerCase())).then((function(e){return e.json()})).then((function(n){return x=n,Promise.all(e.getPokemonAbilities(n.abilities))})).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(n){var t=[],o={id:x.id,name:x.name[0].toUpperCase()+x.name.slice(1),type:e.getPokemonTypes(x.types),imageURL:x.sprites.front_default};n.forEach((function(e){for(var n=e.name,o="",a=0;a<e.effect_entries.length;a++)if("en"===e.effect_entries[a].language.name){o=e.effect_entries[a].effect;break}var s={name:n,description:o};t.push(s)})),o.abilities=t,console.log(n),e.setState((function(e){return{foundPokemons:[].concat(Object(r.a)(e.foundPokemons),[o])}})),e.setState({isFetchingData:!1}),e.setState({hasError:!1}),e.setState({isPokemonFound:!1}),e.setState({isPokemonInPokedex:!1})})).catch((function(){return e.setState({isFetchingData:!1,hasError:!0,isPokemonFound:!1,isPokemonInPokedex:!1})})),n.target.value=""):o?e.setState({isPokemonInPokedex:!0,hasError:!1,isPokemonFound:!1}):e.setState({isPokemonFound:!0,hasError:!1,isPokemonInPokedex:!1})}},e.state={foundPokemons:[],pokedex:[],hasError:!1,isPokemonFound:!1,isPokemonInPokedex:!1,isPokedexOpen:!1,isFetchingData:!1},e}return Object(l.a)(t,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(P,{isPokedexOpen:this.state.isPokedexOpen,onPokedexButtonClick:this.handlePokedexButtonClick,pokedex:this.state.pokedex,className:"Pokedex Pokedex--small"}),Object(o.jsxs)("div",{className:"SearchModule SearchModule--large",children:[Object(o.jsx)(k,{isPokemonFound:this.state.isPokemonFound,isPokemonInPokedex:this.state.isPokemonInPokedex,hasError:this.state.hasError,onConfirm:this.handleSearch}),Object(o.jsx)(p,{pokemons:this.state.foundPokemons,onPokemonSave:this.handlePokemonSave})]})]})}}]),t}(s.a.Component),b=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,24)).then((function(n){var t=n.getCLS,o=n.getFID,a=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),o(e),a(e),s(e),i(e)}))};c.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(j,{})}),document.getElementById("root")),b()}],[[21,1,2]]]);
//# sourceMappingURL=main.92e93fde.chunk.js.map