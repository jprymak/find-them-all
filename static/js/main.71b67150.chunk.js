(this["webpackJsonpfind-them-all"]=this["webpackJsonpfind-them-all"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n(1),i=n.n(a),s=n(4),c=n.n(s),r=(n(14),n(2)),d=n(5),u=n(6),l=n(8),k=n(7);n(15),n(16),n(17);var m=function(e){var t=e.isPokemonInPokedex,n=e.isPokemonFound,a=e.hasError,s=e.onConfirm;return Object(o.jsxs)(i.a.Fragment,{children:[Object(o.jsx)("input",{className:"search-bar",onKeyDown:s,type:"text",placeholder:"Find them all!"}),!0===a?Object(o.jsx)("p",{className:"error-message",children:"There is no such pokemon!"}):"",!0===n?Object(o.jsx)("p",{className:"error-message",children:"You already have this pokemon in view!"}):"",!0===t?Object(o.jsx)("p",{className:"error-message",children:"You already have this pokemon in pokedex!"}):""]})},h=(n(18),n(19),n(23));var f=function(e){var t=e.imageURL,n=e.name,a=e.type,i=e.onPokemonSave,s=e.abilities;return Object(o.jsxs)("div",{className:"pokemon-card",children:[Object(o.jsx)("img",{alt:n,src:t,className:"pokemon-card__img"}),Object(o.jsx)("p",{className:"pokemon-card__name",children:n}),Object(o.jsx)("p",{className:"pokemon-card__type",children:a}),Object(o.jsxs)("ul",{className:"pokemon-card__abilities",children:["Abilities",s.map((function(e){return Object(o.jsxs)("li",{className:"pokemon-card__ability",children:[e.name,Object(o.jsx)("p",{className:"pokemon-card__ability-description",children:e.description})]},Object(h.a)())}))]}),Object(o.jsx)("button",{onClick:function(){i(n)},className:"pokemon-card__save-button",children:"Save in pokedex"})]})};var p=function(e){var t=e.pokemons,n=e.onPokemonSave;return Object(o.jsx)("div",{className:"SearchResultBoard",children:t.map((function(e){return Object(o.jsx)(f,{onPokemonSave:n,imageURL:e.imageURL,name:e.name,type:e.type,abilities:e.abilities},e.id)}))})};n(20);var x,P=function(e){var t=e.isPokedexOpen,n=e.onPokedexButtonClick,a=e.pokedex,i=e.onPokedexChooseItemButtonClick;return Object(o.jsxs)("div",{className:"Pokedex ".concat(t?"":"Pokedex--hidden"),children:[Object(o.jsx)("h2",{className:"Pokedex__header",children:t?"Pokedex":""}),Object(o.jsx)("ul",{className:"Pokedex__list",children:t?a.map((function(e){return Object(o.jsxs)("li",{className:"Pokedex__list-item",children:["#",e.id," - ",e.name," ",Object(o.jsx)("button",{onClick:function(){i(e.id)},className:"Pokedex__choose-button",children:">>"})]},e.id)})):""}),Object(o.jsx)("button",{onClick:n,className:"Pokedex__button",children:t?"<":">"})]})},j=function(e){Object(l.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handlePokedexChooseItemButtonClick=function(t){e.showPokemonInView(t)},e.showPokemonInView=function(t){var n=e.state.pokedex.find((function(e){return e.id===t}));e.setState((function(e){return{pokedex:e.pokedex.filter((function(e){return e!==n}))}})),e.setState((function(e){return{foundPokemons:[].concat(Object(r.a)(e.foundPokemons),[n])}}),(function(){window.localStorage.setItem("pokedex",JSON.stringify(e.state.pokedex))}))},e.handlePokedexButtonClick=function(){e.setState({isPokedexOpen:!e.state.isPokedexOpen})},e.handlePokemonSave=function(t){var n=e.state.foundPokemons.filter((function(e){return e.name===t}))[0];e.checkIfArrayIncludesObjectWithCertainKeyValue(e.state.pokedex,n.name)||(e.savePokemonInPokedex(n),e.removePokemonFromView(n))},e.checkIfArrayIncludesObjectWithCertainKeyValue=function(e,t){for(var n=new RegExp("^".concat(t,"$"),"i"),o=!1,a=0;a<e.length;a++)if(null!==e[a].name.match(n)||n.test(e[a].id)){o=!0;break}return o},e.savePokemonInPokedex=function(t){e.setState((function(e){return{pokedex:[].concat(Object(r.a)(e.pokedex),[t])}}),(function(){}))},e.removePokemonFromView=function(t){var n=e.state.foundPokemons.filter((function(e){return e.name!==t.name}));e.setState({foundPokemons:n},(function(){this.sortPokedex(),window.localStorage.setItem("pokedex",JSON.stringify(this.state.pokedex))}))},e.sortPokedex=function(){var t=e.state.pokedex.sort((function(e,t){return e.id-t.id}));e.setState({pokedex:t})},e.getPokemonTypes=function(e){var t="";return e.forEach((function(n){t=t+n.type.name[0].toUpperCase()+n.type.name.slice(1),e.indexOf(n)!==e.length-1&&(t+="/")})),t},e.getPokemonAbilities=function(e){var t=[];return e.forEach((function(e){t.push(fetch(e.ability.url))})),console.log(t),t},e.handleSearch=function(t){if("Enter"===t.key&&""!==t.target.value&&!0!==e.state.isFetchingData){var n=t.target.value,o=e.checkIfArrayIncludesObjectWithCertainKeyValue(e.state.pokedex,n),a=e.checkIfArrayIncludesObjectWithCertainKeyValue(e.state.foundPokemons,n);!1===o&&!1===a?(e.setState({isFetchingData:!0}),fetch("https://pokeapi.co/api/v2/pokemon/".concat(t.target.value.toLowerCase())).then((function(e){return e.json()})).then((function(t){return x=t,Promise.all(e.getPokemonAbilities(t.abilities))})).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){var n=[],o={id:x.id,name:x.name[0].toUpperCase()+x.name.slice(1),type:e.getPokemonTypes(x.types),imageURL:x.sprites.front_default};t.forEach((function(e){for(var t=e.name,o="",a=0;a<e.effect_entries.length;a++)if("en"===e.effect_entries[a].language.name){o=e.effect_entries[a].effect;break}var i={name:t,description:o};n.push(i)})),o.abilities=n,console.log(t),e.setState((function(e){return{foundPokemons:[].concat(Object(r.a)(e.foundPokemons),[o])}})),e.setState({isFetchingData:!1}),e.setState({hasError:!1}),e.setState({isPokemonFound:!1}),e.setState({isPokemonInPokedex:!1})})).catch((function(){return e.setState({isFetchingData:!1,hasError:!0,isPokemonFound:!1,isPokemonInPokedex:!1})})),t.target.value=""):o?e.setState({isPokemonInPokedex:!0,hasError:!1,isPokemonFound:!1}):e.setState({isPokemonFound:!0,hasError:!1,isPokemonInPokedex:!1})}},e.state={foundPokemons:[],pokedex:[],hasError:!1,isPokemonFound:!1,isPokemonInPokedex:!1,isPokedexOpen:!1,isFetchingData:!1},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(window.localStorage.getItem("pokedex")){var t=JSON.parse(window.localStorage.getItem("pokedex",this.state.pokedex));this.setState({pokedex:t},(function(){console.log(e.state)}))}}},{key:"render",value:function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(P,{isPokedexOpen:this.state.isPokedexOpen,onPokedexButtonClick:this.handlePokedexButtonClick,onPokedexChooseItemButtonClick:this.handlePokedexChooseItemButtonClick,pokedex:this.state.pokedex,className:"Pokedex Pokedex--small"}),Object(o.jsxs)("div",{className:"SearchModule SearchModule--large",children:[Object(o.jsx)(m,{isPokemonFound:this.state.isPokemonFound,isPokemonInPokedex:this.state.isPokemonInPokedex,hasError:this.state.hasError,onConfirm:this.handleSearch}),Object(o.jsx)(p,{pokemons:this.state.foundPokemons,onPokemonSave:this.handlePokemonSave})]})]})}}]),n}(i.a.Component),b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),o(e),a(e),i(e),s(e)}))};c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(j,{})}),document.getElementById("root")),b()}],[[21,1,2]]]);
//# sourceMappingURL=main.71b67150.chunk.js.map